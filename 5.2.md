# Gestión de Pedidos - UML y Código

## 1. Diagrama de Clases

El siguiente diagrama de clases representa la estructura del sistema de gestión de pedidos:

### **Clases principales:**

- **Cliente**: Contiene la información del cliente que realiza un pedido.
- **Pedido**: Registra información del pedido, productos asociados y su estado.
- **Producto**: Representa los productos disponibles en el sistema.
- **Pago**: Permite registrar los pagos realizados por los clientes.
- **Stock**: Controla la disponibilidad de los productos.
- **FormaPago**: Clase base para las formas de pago.
  - **Tarjeta**: Información sobre tarjeta de crédito/débito.
  - **Efectivo**: Información sobre pago en efectivo.
  - **Cheque**: Información sobre pago con cheque.

El diagrama muestra las relaciones entre estas clases:
- **Un Cliente puede realizar múltiples Pedidos**.
- **Un Pedido puede contener múltiples Productos**.
- **Un Pedido puede tener múltiples Pagos**.
- **Cada Producto tiene un Stock asociado**.
- **Cada Pago tiene una FormaPago específica**.

---

## 2. Conversión de UML a Código

### **Esquema del Código en POO (Kotlin)**

```kotlin
class Cliente(val nombre: String, val email: String) {
    val pedidos = mutableListOf<Pedido>()
}

class Producto(val nombre: String, val descripcion: String, val precio: Double, val impuestos: Double, var stock: Int)

class Pedido(val cliente: Cliente, val fecha: String) {
    val productos = mutableListOf<Producto>()
    val pagos = mutableListOf<Pago>()
    var estado: String = "pdte"

    fun calcularTotal(): Double {
        return productos.sumOf { it.precio + it.impuestos }
    }
}

```

open class FormaPago

class Pago(val cantidad: Double, val formaPago: FormaPago)

class Tarjeta(val numero: String, val fechaCaducidad: String, val tipo: String) : FormaPago()

class Efectivo(val tipoMoneda: String) : FormaPago()

class Cheque(val nombre: String, val banco: String) : FormaPago()

### 3. Explicación sobre la conversión del diagrama UML al código  

La conversión del diagrama UML al código sigue principios de Programación Orientada a Objetos (POO) en Kotlin. Se identifican las clases principales del sistema, sus atributos y métodos, y las relaciones entre ellas (asociación, composición o herencia).  

Las decisiones clave en la conversión incluyen:  
- **Definir clases y sus propiedades:** Se tradujeron los atributos del diagrama directamente a propiedades en Kotlin con sus respectivos tipos de datos.  
- **Uso de listas mutables:** Para la relación entre `Pedido` y `Producto`, se utilizó una `MutableList` para gestionar múltiples productos en un pedido.  
- **Herencia en formas de pago:** Se implementó una clase base `FormaPago` y se crearon subclases (`Tarjeta`, `Efectivo`, `Cheque`) utilizando herencia.  
- **Métodos para la lógica del negocio:** Se añadieron funciones como `calcularTotal()` en `Pedido` y `inscribirse()` en `Estudiante`.  

### 4. Herramienta utilizada para generar el diagrama UML  

Para crear el diagrama de clases se utilizó **Draw.io**, una herramienta gratuita y fácil de usar. Se comparó con otras opciones como **StarUML** y **PlantUML**, pero se eligió Draw.io porque:  
- No requiere instalación, ya que funciona en el navegador.  
- Permite exportar en múltiples formatos (XML, PNG, SVG, PDF).  
- Es intuitiva y soporta múltiples tipos de diagramas UML.  

### 5. Esquema del código en Kotlin  

A continuación, se muestra un esquema del código derivado del diagrama UML en Kotlin:

```kotlin
class Cliente(val nombre: String, val email: String)

class Producto(val nombre: String, val descripcion: String, val precio: Double, val impuestos: Double, var stock: Int)

class Pedido(val fecha: String, var estado: String) {
    val productos: MutableList<Producto> = mutableListOf()

    fun calcularTotal(): Double {
        return productos.sumOf { it.precio + it.impuestos }
    }
}

open class FormaPago
class Tarjeta(val numero: String, val fechaCaducidad: String, val tipo: String) : FormaPago()
class Efectivo(val tipoMoneda: String) : FormaPago()
class Cheque(val nombre: String, val banco: String) : FormaPago()

class Pago(val cantidad: Double, val formaPago: FormaPago)
